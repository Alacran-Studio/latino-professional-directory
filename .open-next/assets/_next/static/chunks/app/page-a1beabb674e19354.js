(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1938:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2619,23)),Promise.resolve().then(r.t.bind(r,1356,23)),Promise.resolve().then(r.bind(r,7987))},4269:(e,t,r)=>{"use strict";r.d(t,{Qh:()=>d,cn:()=>o,sk:()=>l});var n=r(2821),s=r(5889),a=r(9319),i=r.n(a);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,n.$)(t))}function l(){return i().className}function d(e){return"string"==typeof e&&""!==e.trim()}},4384:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(5155);function s(e){let{children:t,className:r=""}=e;return(0,n.jsx)("p",{className:"decoration-none text-xl font-medium leading-snug tracking-normal sm:text-2xl ".concat(r),children:t})}r(2115)},4652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return o}});let n=r(8140),s=r(5040),a=r(1356),i=n._(r(1124));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=a.Image},4915:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(5155);function s(e){let{tags:t,className:r}=e,s="bg-accent dark:bg-accent flex-shrink-0 items-center space-x-2 rounded-full inline-block";return r&&(s+=" ".concat(r)),(0,n.jsx)("div",{className:"mt-1 flex flex-wrap gap-2 pb-4",children:t.map((e,t)=>(0,n.jsx)("div",{className:s,children:(0,n.jsx)("span",{children:e.name})},t))})}},5652:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(5155);function s(e){let{children:t,className:r=""}=e;return(0,n.jsx)("p",{className:"decoration-none text-base font-medium leading-snug tracking-normal md:text-lg ".concat(r),children:t})}r(2115)},7987:(e,t,r)=>{"use strict";r.d(t,{default:()=>C});var n=r(5155),s=r(2115),a=r(5652),i=r(4384),o=r(2619),l=r.n(o),d=r(4652),c=r.n(d);function m(e){let{src:t,alt:r,width:s,height:a}=e;return(0,n.jsx)("div",{className:"mb-4 h-36 w-36 flex-shrink-0 rounded-lg p-2 sm:mb-0 sm:h-32 sm:w-32",children:(0,n.jsx)(c(),{src:t,alt:r,width:s,height:a,className:"h-full w-full rounded-md object-scale-down"})})}var u=r(4915),h=r(4269);function x(e){let{id:t,logo_url:r,name:s,short_description:o,industries:d}=e;return(0,n.jsx)(l(),{href:"/organizations/".concat(t),children:(0,n.jsxs)("div",{className:"flex w-full cursor-pointer flex-col items-center rounded-lg border border-border bg-card p-6 shadow-lg shadow-gray-300 transition duration-300 ease-in-out hover:bg-cardHover sm:flex-row dark:shadow-gray-800",children:[(0,h.Qh)(r)&&(0,n.jsx)(m,{src:r,alt:"".concat(s," logo"),width:200,height:200}),(0,n.jsxs)("div",{className:"ml-4",children:[(0,n.jsx)(i.A,{children:s}),(0,n.jsx)(a.A,{className:"text-secondary-foreground",children:o}),(0,n.jsx)(u.default,{tags:d,className:"px-3 py-1"})]})]})})}let f=()=>(0,n.jsx)("svg",{width:"20",height:"16",viewBox:"0 0 40 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-black",children:(0,n.jsx)("path",{d:"M2 2L38 5.11111M6 8.22222L34 11.3333M10 14.4444L30 17.5556M14 20.6667L26 23.7778M18 26.8889L22 30",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})});r(9414);let p=()=>(0,n.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M2 2L11 11M20 20L11 11M11 11L20 2M11 11L2 20",stroke:"currentColor",strokeWidth:"4"})});function g(e){let{label:t,icon:r,items:i,selectedItems:o,setSelectedItems:l,isDropdownOpen:d,setIsDropdownOpen:c,buttonClassName:m="bg-brandGold dark:text-black",widthClassName:u="md:w-1/2"}=e,h=(0,s.useRef)(null),x=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=e=>{var t,r;let n=e.target;(null==(t=h.current)?void 0:t.contains(n))||(null==(r=x.current)?void 0:r.contains(n))||c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c]),(0,n.jsxs)("div",{className:"relative mt-4 md:mt-0 ".concat(u),children:[(0,n.jsxs)("button",{ref:x,onClick:()=>c(!d),className:"flex w-full items-center justify-between px-4 py-2 transition-all duration-300 ease-out hover:shadow-lg md:h-12 ".concat(m," ").concat(d?"rounded-t-lg font-semibold":"rounded-lg font-normal"),children:[(0,n.jsxs)("div",{className:"flex items-center",children:[r,(0,n.jsx)(a.A,{className:"ml-2",children:t})]}),(0,n.jsx)("div",{className:"ml-2 transition-opacity duration-300 ease-out ".concat(d?"opacity-100":"opacity-0"),children:(0,n.jsx)(p,{})})]}),(0,n.jsx)("div",{ref:h,className:"absolute z-10 w-full transform bg-background transition-all duration-300 ease-out ".concat(d?"max-h-[500px] translate-y-0 rounded-b-lg border-b border-l border-r border-border p-4 opacity-100 shadow-2xl":"max-h-0 translate-y-0 border-none p-0 opacity-0 shadow-none"," overflow-hidden"),children:i.map(e=>(0,n.jsxs)("label",{className:"mb-2 flex cursor-pointer items-center space-x-2",children:[(0,n.jsx)("input",{type:"checkbox",checked:o.some(t=>void 0!==e.id?t.id===e.id:t.name===e.name),onChange:()=>{o.some(t=>void 0!==e.id?t.id===e.id:t.name===e.name)?l(o.filter(t=>void 0!==e.id?t.id!==e.id:t.name!==e.name)):l([...o,e])}}),(0,n.jsx)(a.A,{children:e.name})]},void 0!==e.id?e.id:e.name))}),(0,n.jsx)("div",{className:"flex w-full flex-wrap gap-2 ".concat(0===o.length?"mt-0":"mt-4"," ").concat(d?"hidden":"block"),children:o.map(e=>(0,n.jsxs)("button",{onClick:()=>{l(o.filter(t=>void 0!==e.id?t.id!==e.id:t.name!==e.name))},className:"flex items-center space-x-2 rounded-full bg-gradient-to-r from-chipGradientFrom via-chipGradientVia to-chipGradientTo px-3 py-1 focus:outline-none",children:[(0,n.jsx)(a.A,{children:e.name}),(0,n.jsx)(p,{})]},void 0!==e.id?e.id:e.name))})]})}function b(e){let{industries:t,selectedIndustries:r,setSelectedIndustries:s,isIndustryDropdownOpen:a,setIsIndustryDropdownOpen:i}=e;return(0,n.jsx)(g,{label:"Filter by Industry",icon:(0,n.jsx)(f,{}),items:t,selectedItems:r,setSelectedItems:s,isDropdownOpen:a,setIsDropdownOpen:i,buttonClassName:"bg-brandGold dark:text-black",widthClassName:"md:w-1/2"})}let w=()=>(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-black",children:(0,n.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z",fill:"currentColor"})});function j(e){let{cities:t,selectedCities:r,setSelectedCities:s,isCityDropdownOpen:a,setIsCityDropdownOpen:i}=e;return(0,n.jsx)(g,{label:"Filter by City",icon:(0,n.jsx)(w,{}),items:t,selectedItems:r,setSelectedItems:s,isDropdownOpen:a,setIsDropdownOpen:i,buttonClassName:"bg-gray-300 dark:bg-gray-400 dark:text-black",widthClassName:"md:w-1/2"})}function v(e){let{href:t,title:r,type:s="default"}=e,a="bg-primary text-white transition-all duration-200 hover:bg-primary-hover";return a+="compact"===s?" rounded-lg px-3 py-1 sm:px-4 sm:py-2 sm:text-lg":" rounded-xl px-4 py-2 sm:px-8 sm:py-4 sm:text-2xl",(0,n.jsx)(l(),{href:t,className:a,children:r})}function y(){return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 p-8 text-center",children:[(0,n.jsx)(c(),{src:"/Search.svg",alt:"No Results Found",width:133,height:131,className:"opacity-75"}),(0,n.jsx)(i.A,{children:"We couldnâ€™t find any results."}),(0,n.jsx)(a.A,{className:"text-secondary-foreground",children:"Try a different search or refine your filters."}),(0,n.jsx)(v,{href:"/contact",title:"Submit an Organization",type:"compact"})]})}function N(){return(0,n.jsxs)("div",{className:"animate-strongerPulse flex flex-col items-center justify-center space-y-4 p-8 text-center sm:mt-20",children:[(0,n.jsx)(c(),{src:"/Search.svg",alt:"Loading...",width:133,height:131,className:"opacity-75",priority:!0}),(0,n.jsx)(i.A,{className:"text-secondary-foreground",children:"Loading Organizations..."})]})}function k(e){let{children:t,className:r=""}=e;return(0,n.jsx)("h1",{className:"".concat((0,h.sk)()," decoration-none text-4xl font-normal uppercase leading-none tracking-normal md:text-6xl ").concat(r),children:t})}function C(e){let{className:t=""}=e,[r,a]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[l,d]=(0,s.useState)([]),[c,m]=(0,s.useState)([]),[u,h]=(0,s.useState)([]),[f,p]=(0,s.useState)([]),[g,w]=(0,s.useState)([]),[v,C]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{C(!0);let[e,t,r]=await Promise.all([fetch("/api/organizations?page=1&limit=10"),fetch("/api/industries"),fetch("/api/cities")]),[n,s,a]=await Promise.all([e.json(),t.json(),r.json()]);if(!e.ok)throw Error(n.error||"Failed to fetch organizations");if(!t.ok)throw Error(s.error||"Failed to fetch industries");if(!r.ok)throw Error(a.error||"Failed to fetch cities");let i=s.industries.sort((e,t)=>e.name.localeCompare(t.name)),o=a.cities.sort((e,t)=>e.name.localeCompare(t.name));h(n.organizations),p(i),w(o)}catch(e){console.error("Error fetching data: ",e)}finally{C(!1)}})()},[]);let S=u.filter(e=>{let t=0===l.length||e.industries.some(e=>l.some(t=>t.id===e.id)),r=0===c.length||e.cities.some(e=>c.some(t=>t.id===e.id));return t&&r});return(0,n.jsxs)("section",{className:"".concat(t," mb-4 flex w-10/12 flex-col items-center pb-4 pt-8"),children:[(0,n.jsx)(k,{className:"pb-8 text-center",children:"The Directory"}),(0,n.jsxs)("div",{className:"min-h-96 w-full rounded-lg border border-border bg-background p-4 shadow-lg sm:min-h-[520px] lg:w-[896px] dark:shadow-gray-800",children:[v?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)("div",{className:"mb-6 flex flex-col gap-y-4 md:flex-row md:gap-x-2 md:gap-y-0",children:[(0,n.jsx)(b,{industries:f,selectedIndustries:l,setSelectedIndustries:d,isIndustryDropdownOpen:r,setIsIndustryDropdownOpen:a}),(0,n.jsx)(j,{cities:g,selectedCities:c,setSelectedCities:m,isCityDropdownOpen:i,setIsCityDropdownOpen:o})]}),v?(0,n.jsx)(N,{}):0===S.length?(0,n.jsx)(y,{}):(0,n.jsx)("div",{className:"grid gap-4",children:S.map(e=>(0,n.jsx)(x,{...e},e.id))})]})]})}},9414:()=>{}},e=>{e.O(0,[79,989,356,619,787,441,255,358],()=>e(e.s=1938)),_N_E=e.O()}]);